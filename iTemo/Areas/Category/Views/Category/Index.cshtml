@using iTemo.jsGrid
@model iTemo.Areas.Category.Models.CategorySearchViewModel

@{
    ViewBag.Title = "Category";
}

<h2>Category List</h2>
<div class="row">
    <div class="col col-md-4">
        <input type="text" class="form-control" placeholder="Tìm kiếm..." name="txtKeyword" id="txtKeyword" onkeypress="search(event)" />
    </div>
    <div class="col col-md-2">
        <button class="btn btn-default">Tìm kiếm</button>
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        @Html.Grid(Model.CategoryGrid)
    </div>
</div>

<script>
    function search(e) {
        if (e.keyCode === 13) {
            var viewName = $("#ViewNameListItems option:selected").text();
            var request = {
                Keyword: $("#txtKeyword").val().trim(),
                ViewName: viewName
            };
            gridHelper.searchObject("gridCategoryListing", request);
        }
    }

    function onDataLoaded(grid) {
        //var searchCondition = gridHelper.getSearchCondition("gridProductListing");
        //if (searchCondition.ViewName === undefined)
        //    searchCondition.ViewName = "My Accounts";
        //urlHelper.updateUrl(searchCondition);
        //searchCondition.ViewName = encodeURI(searchCondition.ViewName);
        //localStorage.setItem('paramsfilter', JSON.stringify(searchCondition));
    }
</script>
